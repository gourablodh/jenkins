===========================================
Jenkins Lab 1
===========================================

1. username option: where can configure admin or default account.

2. UI Definitions:
  a. On the left panel, the first section runs from New Item to Views, serving as the configuration area that can be extended by installing plugins. 
  b. The second section shows the build queue and job execution status, which helps track ongoing and completed jobs. 
  c. `To create a new job, click New Item. The People section lists users, while Manage Jenkins provides access to core configurations, plugin management, and system settings.
  d. To modify Number of executors - Dashboard > Managed > node > Configure
  e. myview: where can check the views of different project
  f. On the Jenkins dashboard you can see your job status. Whoch job success, last success count and time, failed etc.

-------------------------------------------
Create and Build First Job
-------------------------------------------
1. First job to run "Hello world" string.
Click New Item in Jenkins.
Enter a name for the job.
Select Freestyle project.
Go to the Build section.
Add an execute shell/steps command: echo "Hello World".
Click Build to run the job.
Open Console Output to check the result.

2. Same as Second job
whoami
pwd
cat /etc/hosts
tail /etc/passwd
ls -l

3. Create demo3 jobs
Run job with success for 5 times
Then failed job for 2 times then check job status.

4. jenkins Search bar
Use the search bar in Jenkins to find a job by its name. Ex. demo1 or demo2
Searching demo1 13 or demo2 3 takes you directly to that specific build.
Searching demo1 13 console opens the console output of that build.
Searching demo1 last failed build navigates to the most recent failed build of that job.

5. For giving job name: try to assign proper job naming convention:
testproject-build
testproject-test
testproject-deploy
testproject-deployprod

6. What is Plugins: A plugin is a software component that adds specific functionality to an existing computer program or web browser.
Plugins are designed to extend the capabilities of the host application without requiring any changes to its core code.

Suppose add theme: simple theme and restart (from managed jenkins)
Suppose install plugin from URL: managed jenkins > https://cdn.rawgit.com/afonsof/jenkins-material-theme/gh-pages/dist/material-{{your-color-name}}.css
https://www.youtube.com/watch?v=Nih9eM-p-CQ&list=PL6XT0grm_Tfi21F8O0TvHmb78P2uEmhDq&index=8
https://www.afonsof.com/jenkins-material-theme/


6.a. Job trigger
usually this job manually trigger 
go to > job/demo4/configure and select Trigger builds remotely (e.g., from scripts)
copy token and access it from browser but it can trigger from same browser not different

install build authorization token root plugin 

access by : http://10.106.0.7:8080//job/demo3/build?token=mytest
or from terminal: curl http://10.106.0.7:8080/buildByToken/build?job=demo4&token=my

------------------------
Build trigger - Build after other projects are built
------------------------
create job demo2
go to triggers enable Build after other projects are built
and select which project trigger this job (there i did demo1)
run hello world
trigger demo1 and check for demo2

1. Trigger only if build is stable : if success then it trigger
2. Trigger even if the build is unstable : if get unstable
3. Trigger even if the build fails
4. Always trigger, even if the build is aborted : it always
Unstable means go to last advance option give 10 and execute command exit 10

------------------------
Build trigger - Build periodically
------------------------
create job demo2
go to triggers enable Build peridocally
and select your crontab
run hello world

------------------------
Build trigger - Poll SCM
------------------------
The key difference is that Poll SCM triggers a build only if changes are detected in the source code repository. 
Such as at 8PM someone commit to remote repo then it trigger then someone commit his code after 2 days then it will trigger in the meantime it will not trigger.
The key difference is that Poll SCM triggers a build only if changes are detected in the source code repository, while Build periodically triggers a 
build at fixed time intervals regardless of whether any code has changed. 
create job demo5
H/2 * * * * (it will check every 2 minutes on github)
also enable source code management


GitHub hook trigger for GITScm polling
Whenever new code will be come to GitHub Jenkins automatically pull them on that timr.

7. User Management
Go to Manage Jenkins → Users.
Click Create User and fill in the details.
Test login with the newly created account.
By default, new users have full access, which is not recommended. RBAC (Role-Based Access Control) should be applied to restrict permissions.

8. RBAC Setup
Log in as admin.
Go to Manage Jenkins → Manage Plugins and install Role-based Authorization Strategy.
Navigate to Manage Jenkins → Configure Global Security → Authorization → Role-Based Strategy and apply/save.
Log in as the newly created user to verify restricted access.
Go to Manage Jenkins → Manage and Assign Roles to create roles and assign them to users.

Example Task:
Assign Project1 user the permission to create 4 jobs.
Assign Project2 user the permission to execute those jobs only.

9. Environment Variable
Definition: Environment variables in Jenkins are
key-value pairs used to store information that can be accessed by jobs during execution. Notes: - Create
job and set variables:
NAME=gklodh
echo "My name is ${NAME}"
ROLL=2
echo $ROLL

Create job to access those variable.

- Jenkins provides default environment variables visible in each job console. How to enable: In a job, go
to Configure → Build Environment → Use environment variables.

There have Jenkins default variable which can be seen by clicking on See the list of available environment variables. But this will change by project by project.

10. Global Variables
Definition: Variables accessible across all Jenkins jobs for consistency. Notes: - Example: GLOBAL_VAR
can be defined and used in any job. How to enable: Manage Jenkins → System → Global properties
→ Environment variables. Add key-value pairs.

Create job to access those variable.

11. Parameterized / User Input Variables
Definition: Variables that users provide input for before a job runs. Notes: - Types: Boolean, Choice,
Credentials, File, Multi-line String, Password, Run, String. - Example: File parameter allows uploading a
file and using it: cat $filePath . How to enable: Job → Configure → This project is parameterized
→ Add parameter.

Boolean Parameter
Choice Parameter
Credentials Parameter
File Parameter
Multi-line String Parameter
Password Parameter
Run Parameter
String Parameter

Check file parameter, password parameter
click on filepath and give variable such as filePath

12. Jenkins Timeout
Definition: Maximum duration a job is allowed to run. Notes: - Example: sleep 100 with timeout 1
minute. How to enable: Job → Configure → Build Environment → Terminate build if stuck .
Optionally mark build as failed.

Note: If want job became failed> Add action then Select failed

13. Jenkins Timestamp
Definition: Adds time info to console logs. Notes: Helpful for tracking execution duration of each step.
How to enable: Job → Configure → Build Environment → Add timestamps to console output.

execute job:
echo "hello"
sleep 3
echo "hello world"
after execute jobs check console output

14. Enable / Disable Jobs
Definition: Jobs can be temporarily disabled to prevent execution. Notes: Useful during maintenance
or development. How to enable/disable: Job → Configure → Disable project checkbox.

15. Concurrent / Parallel Builds
Definition: Allows multiple instances of a job to run simultaneously. Notes: Default is single execution. 
By default 2 jobs cannot run concurrently so it must be enable.
How to enable: Job → Configure → General → Execute concurrent builds if necessary.

16. Retry Count
Definition: Number of times Jenkins retries a failed build step. Notes: Ensures transient failures do not
if at build section get error it failed on that time by default it cannot retry. 
So need to explicitly mention how many time it will retry.
break the pipeline. How to enable: Job → Configure → Advanced → SCM checkout retry count.

17. Throttle Build
Definition: Limit frequency of job executions. Notes: Example: run maximum 3 builds per day. 
If want your job will build 3 times at a one day or want to limit to build it.
How to enable: Job → Configure → Build Throttle (via plugin if required). day or minutes or months

18. Custom Workspace
Definition: A specific folder to run job builds. Notes: Prevents conflicts from previous builds. 
By default there have Jenkins workspace but you can explicitly defined your custom workspace.
How to enable: Job → Configure → Advanced → Use custom workspace.

19. Change Display Name / Rename Job
Definition: Modify job name or display name. Notes: Improves clarity in dashboard. How to enable:
Job → Configure → Advanced → Display Name or Job → Rename.

20. Jenkins Block Build when Upstream/Downstream job is building
a. Upstream job: upstream job means parent job when upstream it means it trigger child job (Downstream).
Downstream: It means child job. 

How to anable this: Job> configure> trigger> Build after other projects are built > give parent job name. It only enable from child job. 
Practical: at first create parent job - sleep 20 and then child sleep 10 during that time enable "Build after other projects are built" (under triggers section)

21. Block Build on Upstream/Downstream Jobs
Definition: Prevents child/parent job conflicts during execution. Notes: Ensures jobs run sequentially
when needed. How to enable: Job → Configure → Advanced → Block build when upstream/
downstream project is building.

By default when trigger upstream job after it completes process then child job will run. 
But if someone trigger child job during parent job building then can be faced some issue during building. 
SO it can be disable which is called "Block build when upstream project is building?" iIt enables from child job.

By default when trigger upstream job after it completes process child job will run. 
But if someone trigger parent job during child job building then can be faced some issue during building. 
SO it can be disable which is called "Block build when downstream project is building". 
it enable from parent job.


















